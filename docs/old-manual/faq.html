<HTML>
<HEAD>
<TITLE>MasqMail - Manual
</TITLE>
</HEAD>
  <BODY TEXT="#000000" LINK="#0000ff" BGCOLOR="#ffffff">
    
    <center>
      <table width="80%">
	<tr><td>
	    <table width="100%" bgcolor="#0000aa" cellspacing=0 cellpadding=0>
	      <tr>
		<td>
		  <a href="manual.html">
		    <img width="20" src = "../images/u_arrow.gif" alt = "manual">
		  </a>
		</td>
		<td align=center width="100%"><font size="6" color = "#ffffff">Frequently Asked Questions</font></td>
		<td>
		  <a href="./config.html">
		    <img width="20" src = "../images/l_arrow.gif" alt = "Configuration">
		  </a>
		</td>
	      </tr>
	    </table>
	    
	    
	    Some of these questions were never asked, but I thought they will be
	    some time. Some <em>were</em> asked.
	    
	    <h4>General Questions</h4>
	    <ul>
	      <li><a href="#1_0">1.0: When do I need MasqMail?</a></li>
	      <li><a href="#1_1">1.1: When do I <em>not</em> need MasqMail?</a></li>
	      <li><a href="#1_2">1.2: Can I retrieve mail with MasqMail?</a></li>
	      <li><a href="#1_3">1.3: Is there a mailing list for MasqMail?</a></li>
	    </ul>
	    
	    <h4>Setup</h4>
	    <ul>
	      <li><a href="#2_0">2.0: After starting masmail, I get the following
		  message: "could not gain root privileges. Is the setuid bit set?"</a></li>
	      <li><a href="#2_1">2.1: After starting masmail, I get the following
		  message: "bind: (terminating): Address already in use"</a></li>
	    </ul>
	    
	    <h4>Header Rewriting</h4>
	    <ul>
	      <li><a href="#3_0">3.0: My friends told me that they do not see my
		  full name in their inbox, although it is configured in my mail
		  client.</a></li>
	    </ul>
	    
	    <h4>Delivering Online</h4>
	    <ul>
	      <li><a href="#4_0">4.0: With connection methed <em>file</em>, I get the following message in the log file: "Could not open /tmp/connect_route: Permission denied".</a></li>
	      <li><a href="#4_1">4.1: With connection methed <em>file</em>, I get the following message in the log file: "route with name <em>name</em> not found.".</a></li>
	    </ul>
	    
	    <h4>Bugs</h4>
	    <ul>
	      <li><a href="#5_0">5.0: I found a bug.</a></li>
	      <li><a href="#5_1">5.1: I think I found a bug, but I am not sure whether I configured MasqMail incorrectly.</a></li>
	    </ul>
	    
	    <a name="1_0"> <h4>1.0: When do I need MasqMail?</h4></a>
	    
	    <p> You do not <em>need</em> it. But it makes sending mails via a
	      dialup connection a lot easier.</p>
	    
	    <p>It is useful if you dial to the internet from time to time via a
	      modem and connect to different providers, each one with a different
	      configuration. Other MTAs are not flexible enough if you have to send
	      mails via different mail servers for each provider. With MasqMail you
	      can configure a different one for each provider and even set your
	      return addresses differently.</p>
	    
	    <p>It is also useful if you have a LAN with a gateway which is
	      connected to the internet via a modem because you can rewrite your
	      address depending on whether the recipients are <em>inside</em> or
	      <em>outside</em> your LAN. So responses and delivery failures on your
	      LAN will be sent to you without leaving it, while those outside will
	      be delivered to your address outside. (But it does not yet send
	      delivery failures itself yet.)</p>
	    
	    <p>MasqMail is also often used on notebooks.</p>
	    
	    <a name="1_1"><h4>1.1: When do I <em>not</em> need MasqMail?</h4></a>
	    
	    <p>The use of MasqMail is <em>strongly</em> discouraged if you have a
	      permanent connection to the internet without a firewall. First because
	      it does not have the ability to block relaying (it relays every mail)
	      and second because there are no capabilities to protect against
	      SPAM. You will not take advantages of its features anyway.</p>
	    
	    <a name="1_2"><h4>1.2: Can I retrieve mail with MasqMail?</h4></a>
	    
	    <p>Yes, for version >= 0.1.0 you can retrieve mail via the POP3 and
	      APOP protocol from single drop mailboxes (in case you do not know
	      about single/mutidrop, you probaby use single drop mailboxes).</p>
	    
	    <p>You can also use fetchmail or other pop/imap clients to feed
	      it.</p>
	    
	    <a name="1_3"><h4>1.3: Is there a mailing list for MasqMail?</h4></a>
	    
	    <p>Yes, there is! See <a href="http://www.innominate.org/mailman/listinfo/masqmail">here</a>.</p>
	    
	    <a name="2_0"><h4>2.0: After starting masmail, I get the following
	      message: "could not gain root privileges. Is the setuid bit set?"</h4></a>
	    
	    <p>Set the set-user-id-bit with chmod u+s /usr/sbin/masqmail.</p>
	    
	    <a name="2_1"><h4>2.1: After starting masmail, I get the following
	      message: "bind: (terminating): Address already in use"</h4></a>
	    
	    <p>This means that there is already a process listening on a port,
	      usually 25. You either have another MTA running in background
	      (sendmail, exim, etc...) or another instance of masqmail.</p>
	    
	    <p>It may also mean that the ports you configured MM to listen to
	      (with 'listen_addresses') are on the same IP address, eg. you may have
	      set your hostname to 127.0.0.1 and try to listen on localhost and your
	      host name. In this case either set your hostname to another IP address
	      or delete one of the conflicting entries.</p>
	    
	    <a name="3_0"><h4>3.0: My friends told me that they do not see my full
	      name in their inbox, although it is configured in my mail
	      client.</h4></a>
	    
	    <p>You probably used the <b>map_h_from_addresses</b> feature in the
	      route configuration and forgot to set your real name. The syntax
	      is:</p>
	    
	    <pre>
map_h_from_addresses = "charlie:Charlie Miller &lt;cmiller@foo.com&gt";
	    </pre>
	    
	    <p>Do not forget the <em>Charlie Miller</em>.</p>
	    
	    <a name="4_0"><h4>4.0: With connection method <em>file</em>, I get the
	      following message in the log file: "Could not open /tmp/connect_route:
	      Permission denied".</h4></a>
	    
	    <p>In your ip-up script, you have to set read permission to the user
	      masqmail runs as. After you write the file with the connection name,
	      set read permission to all with chmod ugo+r <em>file</em>.
	      
	      <a name="4_1"><h4>4.1: With connection methed <em>file</em>, I get the
	      following message in the log file: "route with name <em>name</em> not
	      found.".</h4></a>
	    
	    <p>Check whether the name in the file is really identical to name you
	      gave to the route configuration (case sensitive!). Maybe there is a
	      linefeed after the name in the file. Write it with echo -n.</p>
	    
	    <a name="5_0"><h4>5.0: I found a bug.</h4></a>
	    
	    <p>Make sure you are using the newest version, in case of doubt search
	      it in <a href="http://www.freshmeat.net">freshmeat</a>. If you do, tell
	      <a href = "mailto:Oliver Kurth <kurth@innominate.de>">me</a>. See
	      also the section <a href="index.html#bugs">bugs</a> on the <a
		href="index.html">main</a> page.</p>
	    
	    <a name="5_1"><h4>5.1: I think I found a bug, but I am not sure
	      whether I configured MasqMail incorrectly.</h4></a>
	    
	    <p>Don't care. Tell <a href = "mailto:Oliver Kurth
	      <kurth@innominate.de>">me</a>. Or write to the <a
		href="http://www.innominate.org/mailman/listinfo/masqmail">mailing
		list</a>.</p>
	    
	  </td></tr>
	
	<tr><td>
	    <p>
	    <hr>
	    <address><a href = "mailto:kurth@innominate.de">Oliver Kurth</a></address>
	    Last modified: Tue May 30 15:19:56 CEST 2000
	    <br>
	    This page was created using <a href="http://www.freddyfrog.com/hacks/genpage/">Genpage</a> - Version: 1.0.6
	  </p>
    
      </table>
    </center>

  </BODY>
</HEAD>
  
